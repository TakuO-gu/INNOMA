/* DADS Design Tokens */
@import "@digital-go-jp/design-tokens/dist/tokens.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply antialiased text-gray-900;
  }

  /* Focus visible for accessibility */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-blue-500;
  }

  /* Better tap targets on mobile */
  @media (max-width: 640px) {
    button,
    a {
      min-height: 44px;
    }
  }
}

/* Component utilities */
@layer components {
  /* Card hover effect */
  .card-hover {
    @apply transition-all duration-200 hover:shadow-md hover:border-blue-300;
  }

  /* Truncate text with ellipsis */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Skip to content link for accessibility */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-lg;
  }
}

/* Utility classes */
@layer utilities {
  /* Safe area insets for mobile devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Hide scrollbar but allow scrolling */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* DADS Component Styles - Enhanced Typography & Spacing */
@layer components {
  /* Page container - wider spacing */
  .dads-page {
    @apply max-w-4xl mx-auto px-6 py-12;
  }
  .dads-page > * + * {
    @apply mt-12;
  }

  /* Section wrapper - clear visual separation */
  .dads-page > section {
    @apply py-2;
  }

  /* ===================================================================
   * Block Renderer - セクション間余白
   * SmartHR Design System参考: セクション間 32px、ブロック間 24px
   * =================================================================== */
  .block-renderer {
    @apply space-y-8;
  }

  /* 各ブロック要素の基本余白 */
  .block-renderer > * {
    @apply mb-0;
  }

  /* セクション区切りとなるブロック（見出しの前）には大きな余白 */
  .block-renderer > *:has(+ .dads-heading) {
    @apply mb-4;
  }

  /* ===================================================================
   * Heading styles - DADS Storybook準拠
   * https://design.digital.go.jp/dads/html/?path=/docs/components-見出し--docs
   * =================================================================== */
  .dads-heading {
    color: var(--color-neutral-solid-gray-800, #333333);
    font-family: var(--font-family-sans, 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif);
    margin: 0;
  }

  /* 最初の見出し要素には上余白を適用しない */
  .dads-heading:first-child,
  .block-renderer > *:first-child .dads-heading,
  .dads-richtext > .dads-heading:first-child {
    margin-top: 0;
  }

  /* XL: 64px - ページタイトル（h1） */
  .dads-heading[data-size="64"],
  .dads-heading--xl {
    --_shoulder-size: calc(28 / 16 * 1rem);
    --_shoulder-line-height: 1.5;
    --_shoulder-letter-spacing: 0.01em;
    font-weight: bold;
    font-size: calc(64 / 16 * 1rem);
    line-height: 1.4;
    letter-spacing: 0;
    @apply mt-16 mb-8;
  }

  /* L: 45px - セクション見出し（h2） */
  .dads-heading[data-size="45"],
  .dads-heading--l {
    --_shoulder-size: calc(22 / 16 * 1rem);
    --_shoulder-line-height: 1.5;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(45 / 16 * 1rem);
    line-height: 1.4;
    letter-spacing: 0;
    @apply mt-12 mb-6 pt-4 border-t-2 border-gray-100;
  }

  /* テーブルの後のH2見出しに追加スペース */
  .dads-table + .dads-heading[data-size="45"],
  .dads-table + .dads-heading--l,
  table + h2,
  table + .dads-heading[data-size="45"],
  table + .dads-heading--l {
    margin-top: 2rem;
  }

  /* M: 32px - サブセクション見出し（h3） */
  .dads-heading[data-size="32"],
  .dads-heading--m {
    --_shoulder-size: calc(18 / 16 * 1rem);
    --_shoulder-line-height: 1.6;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(32 / 16 * 1rem);
    line-height: 1.5;
    letter-spacing: 0.01em;
    @apply mt-10 mb-4;
  }

  /* S: 24px - 小見出し（h4） */
  .dads-heading[data-size="24"],
  .dads-heading--s {
    --_shoulder-size: calc(16 / 16 * 1rem);
    --_shoulder-line-height: 1.7;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(24 / 16 * 1rem);
    line-height: 1.5;
    letter-spacing: 0.02em;
    @apply mt-8 mb-3;
  }

  /* XS: 20px - 最小見出し（h5, h6） */
  .dads-heading[data-size="20"],
  .dads-heading--xs {
    --_shoulder-size: calc(16 / 16 * 1rem);
    --_shoulder-line-height: 1.7;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(20 / 16 * 1rem);
    line-height: 1.5;
    letter-spacing: 0.02em;
    @apply mt-6 mb-2;
  }

  /* 追加サイズ（必要に応じて使用） */
  .dads-heading[data-size="57"] {
    --_shoulder-size: calc(24 / 16 * 1rem);
    --_shoulder-line-height: 1.5;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(57 / 16 * 1rem);
    line-height: 1.4;
    letter-spacing: 0;
    @apply mt-14 mb-7;
  }

  .dads-heading[data-size="36"] {
    --_shoulder-size: calc(20 / 16 * 1rem);
    --_shoulder-line-height: 1.5;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(36 / 16 * 1rem);
    line-height: 1.4;
    letter-spacing: 0.01em;
    @apply mt-11 mb-5;
  }

  .dads-heading[data-size="28"] {
    --_shoulder-size: calc(16 / 16 * 1rem);
    --_shoulder-line-height: 1.7;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(28 / 16 * 1rem);
    line-height: 1.5;
    letter-spacing: 0.01em;
    @apply mt-9 mb-4;
  }

  .dads-heading[data-size="18"] {
    --_shoulder-size: calc(16 / 16 * 1rem);
    --_shoulder-line-height: 1.7;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(18 / 16 * 1rem);
    line-height: 1.6;
    letter-spacing: 0.02em;
    @apply mt-5 mb-2;
  }

  .dads-heading[data-size="16"] {
    --_shoulder-size: calc(16 / 16 * 1rem);
    --_shoulder-line-height: 1.7;
    --_shoulder-letter-spacing: 0.02em;
    font-weight: bold;
    font-size: calc(16 / 16 * 1rem);
    line-height: 1.7;
    letter-spacing: 0.02em;
    @apply mt-4 mb-2;
  }

  /* チップ装飾（左側の縦線） */
  .dads-heading[data-chip] {
    position: relative;
    padding-left: calc(1em / 3 + 0.5em);
  }

  .dads-heading[data-chip]::before {
    position: absolute;
    top: 0.2em;
    bottom: 0.1em;
    left: 0;
    width: calc(1em / 3);
    background-color: var(--color-primitive-blue-900, #0017c1);
    content: "";
  }

  @supports (top: 1lh) {
    .dads-heading[data-chip]::before {
      top: calc(0.5lh - 0.45em);
      bottom: calc(0.5lh - 0.55em);
    }
  }

  .dads-heading[data-chip]:has(.dads-heading__shoulder)::before {
    top: calc((var(--_shoulder-size) * (var(--_shoulder-line-height) - 1)) / 2);
  }

  @media (forced-colors: active) {
    .dads-heading[data-chip]::before {
      background-color: CanvasText;
    }
  }

  /* 下線装飾 */
  .dads-heading[data-rule] {
    border-bottom: solid var(--color-primitive-blue-900, #0017c1);
  }

  .dads-heading[data-rule="8"] {
    border-bottom-width: calc(8 / 16 * 1rem);
    padding-bottom: calc(32 / 16 * 1rem);
  }

  .dads-heading[data-rule="6"] {
    border-bottom-width: calc(6 / 16 * 1rem);
    padding-bottom: calc(24 / 16 * 1rem);
  }

  .dads-heading[data-rule="4"] {
    border-bottom-width: calc(4 / 16 * 1rem);
    padding-bottom: calc(16 / 16 * 1rem);
  }

  .dads-heading[data-rule="2"] {
    border-bottom-width: calc(2 / 16 * 1rem);
    padding-bottom: calc(8 / 16 * 1rem);
  }

  /* 肩見出し（サブタイトル） */
  .dads-heading__shoulder {
    margin: 0;
    font-weight: bold;
    font-size: var(--_shoulder-size);
    line-height: var(--_shoulder-line-height);
    letter-spacing: var(--_shoulder-letter-spacing);
  }

  .dads-heading__heading {
    margin: 0;
    font: inherit;
  }

  /* アイコン */
  .dads-heading__icon {
    margin-right: calc(0.4em - 0.25em);
  }

  .dads-heading__icon::after {
    content: " ";
  }

  .dads-heading__icon-svg {
    display: inline-block;
    width: 1.25em;
    height: 1.25em;
    vertical-align: -0.25em;
  }

  /* レスポンシブ対応: モバイルでは小さめに */
  @media (max-width: 640px) {
    .dads-heading[data-size="64"],
    .dads-heading--xl {
      font-size: calc(36 / 16 * 1rem);
    }

    .dads-heading[data-size="45"],
    .dads-heading--l {
      font-size: calc(28 / 16 * 1rem);
    }

    .dads-heading[data-size="32"],
    .dads-heading--m {
      font-size: calc(24 / 16 * 1rem);
    }

    .dads-heading[data-size="24"],
    .dads-heading--s {
      font-size: calc(20 / 16 * 1rem);
    }

    .dads-heading[data-size="20"],
    .dads-heading--xs {
      font-size: calc(18 / 16 * 1rem);
    }
  }

  /* Paragraph - larger, more readable */
  .dads-paragraph {
    @apply text-lg md:text-xl leading-relaxed text-gray-700 mb-6;
  }

  /* RichText container - more breathing room */
  .dads-richtext {
    @apply space-y-6;
  }

  /* ===================================================================
   * Link - DADS準拠
   * https://github.com/digital-go-jp/design-system-example-components-react
   * =================================================================== */
  .dads-link {
    color: var(--color-primitive-blue-1000, #00118f);
    text-decoration: underline;
    text-underline-offset: calc(3/16*1rem);
  }
  .dads-link:visited {
    color: var(--color-primitive-magenta-900, #8b008b);
  }
  .dads-link:hover {
    color: var(--color-primitive-blue-1000, #00118f);
    text-decoration-thickness: calc(3/16*1rem);
  }
  .dads-link:active {
    color: var(--color-primitive-orange-800, #c74700);
    text-decoration-thickness: 1px;
  }
  .dads-link:focus-visible {
    border-radius: var(--border-radius-4, 0.25rem);
    outline: 4px solid black;
    outline-offset: calc(2/16*1rem);
    background-color: var(--color-primitive-yellow-300, #ffd43d);
    color: var(--color-primitive-blue-1000, #00118f);
  }
  /* 外部リンクアイコン */
  .dads-link[target="_blank"]::after {
    content: "";
    display: inline-block;
    width: 16px;
    height: 17px;
    margin-left: calc(3/16*1rem);
    margin-bottom: calc(3/16*1rem);
    vertical-align: middle;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='17' viewBox='0 0 16 17' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M3 13.5H13V9.16667H14V14.5H2V2.5H7.33333V3.5H3V13.5ZM9.33333 3.5V2.5H14V7.16667H13V4.23333L7 10.1667L6.33333 9.5L12.2667 3.5H9.33333Z' fill='currentColor'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
  }

  /* ===================================================================
   * Breadcrumbs - DADS準拠
   * https://github.com/digital-go-jp/design-system-example-components-react
   * =================================================================== */
  .dads-breadcrumb__list {
    display: inline;
  }
  .dads-breadcrumb__item {
    display: inline;
    word-break: break-word;
  }
  .dads-breadcrumb__item:not([aria-current])::after {
    content: "";
    display: inline-block;
    width: 12px;
    height: 12px;
    margin: 0 0.5rem;
    vertical-align: middle;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' fill='none'%3E%3Cpath d='M4.50078 1.2998L3.80078 1.9998L7.80078 5.9998L3.80078 9.9998L4.50078 10.6998L9.20078 5.9998L4.50078 1.2998Z' fill='currentColor'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
  }
  .dads-breadcrumb__item[aria-current="page"] {
    font-size: 1rem;
    line-height: 1;
    letter-spacing: 0;
  }
  .dads-breadcrumb__link {
    color: var(--color-primitive-blue-1000, #00118f);
    font-size: 1rem;
    line-height: 1;
    letter-spacing: 0;
    text-decoration: underline;
    text-underline-offset: calc(3/16*1rem);
  }
  .dads-breadcrumb__link:hover {
    color: var(--color-primitive-blue-900, #0017c1);
    text-decoration-thickness: calc(3/16*1rem);
  }
  .dads-breadcrumb__link:active {
    color: var(--color-primitive-orange-800, #c74700);
    text-decoration-thickness: 1px;
  }
  .dads-breadcrumb__link:focus-visible {
    border-radius: var(--border-radius-4, 0.25rem);
    outline: 4px solid black;
    outline-offset: calc(2/16*1rem);
    background-color: var(--color-primitive-yellow-300, #ffd43d);
    color: var(--color-primitive-blue-1000, #00118f);
  }

  /* Resource list - card style */
  .dads-resource-list {
    @apply space-y-3 my-8;
  }
  .dads-resource-list__item {
    @apply py-4 px-5 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-100;
  }
  .dads-resource-list__title {
    @apply font-semibold text-lg text-gray-900;
  }

  /* ===================================================================
   * List (Ul/Ol) - DADS準拠
   * https://github.com/digital-go-jp/design-system-example-components-react
   * ネイティブのリストスタイルを使用
   * =================================================================== */
  .dads-list {
    padding-left: 2rem;
    list-style: revert;
  }
  .dads-list .dads-list__item {
    color: var(--color-neutral-solid-gray-800, #333333);
    line-height: 1.7;
  }
  /* Remove margin from paragraphs inside list items */
  .dads-list .dads-list__item .dads-paragraph {
    @apply mb-0;
  }

  /* Table - DADS compliant (default: row borders only) */
  .dads-table {
    @apply w-full my-8;
  }
  .dads-table__row {
    @apply border-b border-solid;
    border-color: #949497; /* solid-gray-420 */
  }
  .dads-table__row:first-child {
    @apply border-b;
    border-color: #1a1a1c; /* solid-gray-900 for header */
  }
  .dads-table__header {
    @apply bg-gray-50 text-left font-semibold text-gray-900 py-3 px-4 text-base align-top;
  }
  .dads-table__cell {
    @apply py-3 px-4 text-gray-900 text-base align-top;
  }
  /* Table with full borders (data-border attribute) */
  .dads-table[data-border] {
    @apply border border-solid;
    border-color: #949497;
  }
  .dads-table[data-border] .dads-table__header,
  .dads-table[data-border] .dads-table__cell {
    @apply border border-solid;
    border-color: #949497;
  }

  /* ===================================================================
   * Notification Banner - DADS準拠
   * https://github.com/digital-go-jp/design-system-example-components-react
   * 既存コンポーネント構造（__title + __body）に対応
   * =================================================================== */
  .dads-notification-banner {
    padding: 1rem 1.5rem;
    border-width: calc(3/16*1rem);
    border-style: solid;
    border-radius: var(--border-radius-12, 0.75rem);
    @apply my-8;
  }
  @media (min-width: 1024px) {
    .dads-notification-banner {
      padding: 1.5rem 2rem;
    }
  }
  /* タイプ別カラー - DADS公式カラートークン使用 */
  .dads-notification-banner--info {
    border-color: var(--color-primitive-blue-900, #0017c1);
    background-color: var(--color-primitive-blue-50, #e8f1fe);
  }
  .dads-notification-banner--warning {
    border-color: var(--color-semantic-warning-yellow-2, #927200);
    background-color: var(--color-primitive-yellow-50, #fbf5e0);
  }
  .dads-notification-banner--danger {
    border-color: var(--color-semantic-error-1, #ec0000);
    background-color: var(--color-primitive-red-50, #fdeeee);
  }
  .dads-notification-banner--success {
    border-color: var(--color-semantic-success-2, #197a4b);
    background-color: var(--color-primitive-green-50, #e6f5ec);
  }
  .dads-notification-banner__title {
    font-weight: bold;
    font-size: calc(17/16*1rem);
    line-height: 1.7;
    color: var(--color-neutral-solid-gray-900, #1a1a1a);
    margin-bottom: 0.5rem;
  }
  @media (min-width: 1024px) {
    .dads-notification-banner__title {
      font-size: calc(20/16*1rem);
      line-height: 1.5;
    }
  }
  .dads-notification-banner__body,
  .dads-notification-banner__content {
    color: var(--color-neutral-solid-gray-800, #333333);
    line-height: 1.7;
  }

  /* ===================================================================
   * Emergency Banner - DADS準拠
   * https://github.com/digital-go-jp/design-system-example-components-react
   * =================================================================== */
  .dads-emergency-banner {
    display: block;
    padding: 0.625rem 0.875rem;
    border: calc(6/16*1rem) solid var(--color-semantic-warning-orange-1, #fb5b01);
    background-color: var(--color-neutral-white, #ffffff);
    @apply my-8;
  }
  @media (min-width: 1024px) {
    .dads-emergency-banner {
      padding: calc(26/16*1rem);
    }
  }
  .dads-emergency-banner__title {
    font-weight: bold;
    font-size: calc(20/16*1rem);
    line-height: 1.5;
    color: var(--color-neutral-solid-gray-900, #1a1a1a);
    margin-bottom: 0.5rem;
  }
  .dads-emergency-banner__content {
    color: var(--color-neutral-solid-gray-800, #333333);
    line-height: 1.7;
  }

  /* Step navigation - DADS official spec */
  .dads-step-navigation {
    color: var(--color-neutral-solid-gray-800, #1a1a1a);
    font-weight: normal;
    font-size: 1rem;
    font-family: var(--font-family-sans, sans-serif);
    line-height: 1.7;
    letter-spacing: 0.02em;
    overflow-wrap: anywhere;
    --_number-size: 2.75rem; /* 44px */
    --_number-margin: 0.25rem; /* 4px */
    --_outline-width: 0.125rem; /* 2px */
    --_title-margin: 1.5rem; /* 24px */
    --_description-margin: 0.5rem; /* 8px */
    @apply my-10;
  }

  .dads-step-navigation[data-size="small"] {
    --_number-size: 2rem; /* 32px */
    --_number-margin: 0.1875rem; /* 3px */
    --_outline-width: 0.0625rem; /* 1px */
    --_title-margin: 1rem; /* 16px */
    --_description-margin: 0.25rem; /* 4px */
  }

  .dads-step-navigation > ul {
    margin: 0;
    padding: 0;
    list-style-type: none;
  }

  .dads-step-navigation__step {
    position: relative;
    box-sizing: border-box;
  }

  .dads-step-navigation__step::before,
  .dads-step-navigation__step::after {
    position: absolute;
    z-index: -1;
    content: "";
  }

  .dads-step-navigation__step[data-first]::before {
    display: none;
  }

  .dads-step-navigation__step[data-last]::after {
    display: none;
  }

  .dads-step-navigation__header {
    display: block;
    border: 0;
    background: none;
    padding: 0;
    color: inherit;
    font: inherit;
    text-wrap: pretty;
  }

  .dads-step-navigation__number {
    position: relative;
    display: grid;
    place-content: center;
    margin: var(--_number-margin, 0.25rem);
    box-sizing: border-box;
    width: fit-content;
    height: var(--_number-size, 2.75rem);
    min-width: var(--_number-size, 2.75rem);
    border: 2px solid;
    border-radius: 50%;
    background-color: var(--color-neutral-white, #fff);
    padding: 0 0.125rem 0.125rem;
    font-weight: bold;
    font-size: 1.25rem;
    line-height: 1.5;
    letter-spacing: 0.02em;
  }

  .dads-step-navigation[data-size="small"] .dads-step-navigation__number {
    margin: 0.1875rem;
    border-width: 1px;
    font-size: 1rem;
  }

  .dads-step-navigation__step[data-state="reached"] .dads-step-navigation__number {
    background-color: var(--color-neutral-solid-gray-800, #1a1a1a);
    color: var(--color-neutral-white, #fff);
    border-color: var(--color-neutral-solid-gray-800, #1a1a1a);
  }

  .dads-step-navigation__step[data-state="completed"] .dads-step-navigation__number {
    background-color: var(--color-neutral-solid-gray-50, #f5f5f5);
  }

  .dads-step-navigation__title {
    display: block;
    font-weight: bold;
    font-size: 1.125rem;
    line-height: 1.6;
    letter-spacing: 0.02em;
  }

  .dads-step-navigation[data-size="small"] .dads-step-navigation__title {
    font-weight: bold;
    font-size: 1rem;
    line-height: 1.7;
    letter-spacing: 0.02em;
  }

  .dads-step-navigation__description {
    margin: var(--_description-margin, 0.5rem) 0 0;
  }

  /* Vertical orientation (default) */
  .dads-step-navigation[data-orientation="vertical"] > ul {
    display: flex;
    flex-direction: column;
  }

  .dads-step-navigation[data-orientation="vertical"] .dads-step-navigation__step {
    flex: 1;
    padding-bottom: 1.5rem;
  }

  .dads-step-navigation[data-orientation="vertical"] .dads-step-navigation__step:last-child {
    padding-bottom: 0;
  }

  .dads-step-navigation[data-orientation="vertical"] .dads-step-navigation__step::before {
    left: calc(var(--_number-size, 2.75rem) / 2 + var(--_number-margin, 0.25rem));
    top: 0;
    height: 2rem;
    border-right: 1px solid;
  }

  .dads-step-navigation[data-orientation="vertical"] .dads-step-navigation__step::after {
    left: calc(var(--_number-size, 2.75rem) / 2 + var(--_number-margin, 0.25rem));
    bottom: 0;
    height: calc(100% - 2rem);
    border-right: 1px solid;
  }

  .dads-step-navigation[data-orientation="vertical"] .dads-step-navigation__header {
    position: relative;
    display: flex;
    align-items: baseline;
    column-gap: 1rem;
    text-align: left;
  }

  .dads-step-navigation[data-orientation="vertical"] .dads-step-navigation__number {
    flex-shrink: 0;
  }

  .dads-step-navigation[data-orientation="vertical"] .dads-step-navigation__title {
    padding: calc(var(--_number-size, 2.75rem) / 2 + var(--_number-margin, 0.25rem) - 0.875rem) 0;
  }

  .dads-step-navigation[data-orientation="vertical"] .dads-step-navigation__description {
    margin-top: calc(var(--_description-margin, 0.5rem) - (var(--_number-size, 2.75rem) / 2 + var(--_number-margin, 0.25rem) - 0.875rem));
    padding-left: calc(var(--_number-size, 2.75rem) + var(--_number-margin, 0.25rem) + var(--_number-margin, 0.25rem) + 1rem);
  }

  /* Horizontal orientation */
  .dads-step-navigation[data-orientation="horizontal"] {
    overflow-x: auto;
    padding-top: 0.375rem;
    padding-bottom: 0.375rem;
  }

  .dads-step-navigation[data-orientation="horizontal"] > ul {
    display: flex;
  }

  .dads-step-navigation[data-orientation="horizontal"] .dads-step-navigation__step {
    width: 20rem;
    min-width: 10rem;
    padding: 0 1rem;
  }

  .dads-step-navigation[data-orientation="horizontal"] .dads-step-navigation__step::before {
    top: calc(var(--_number-size, 2.75rem) / 2 + var(--_number-margin, 0.25rem));
    right: 50%;
    width: 50%;
    border-bottom: 1px solid;
  }

  .dads-step-navigation[data-orientation="horizontal"] .dads-step-navigation__step::after {
    top: calc(var(--_number-size, 2.75rem) / 2 + var(--_number-margin, 0.25rem));
    left: 50%;
    width: 50%;
    border-bottom: 1px solid;
  }

  .dads-step-navigation[data-orientation="horizontal"] .dads-step-navigation__header {
    width: 100%;
    text-align: center;
  }

  .dads-step-navigation[data-orientation="horizontal"] .dads-step-navigation__number {
    margin-right: auto;
    margin-left: auto;
  }

  .dads-step-navigation[data-orientation="horizontal"] .dads-step-navigation__title {
    margin-top: var(--_title-margin, 1.5rem);
  }

  .dads-step-navigation[data-orientation="horizontal"] .dads-step-navigation__description {
    text-align: center;
  }

  /* Visually hidden (for screen readers) */
  .dads-u-visually-hidden {
    @apply sr-only;
  }

  /* Summary block - emphasized lead text */
  .dads-summary {
    @apply mb-10 pb-8 border-b border-gray-200;
  }
  .dads-summary__text {
    @apply text-xl md:text-2xl text-gray-600 leading-relaxed font-light;
  }

  /* Contact block - prominent card */
  .dads-contact {
    @apply mt-16 pt-10 border-t-2 border-gray-200;
  }
  .dads-contact__card {
    @apply bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-8 space-y-4 shadow-sm border border-gray-200;
  }
  .dads-contact__department {
    @apply text-xl font-semibold text-gray-900 mb-6 pb-4 border-b border-gray-200;
  }
  .dads-contact__label {
    @apply text-gray-500 mr-2 font-medium;
  }
  .dads-contact__address,
  .dads-contact__phone,
  .dads-contact__fax,
  .dads-contact__email,
  .dads-contact__hours,
  .dads-contact__map {
    @apply text-lg text-gray-700;
  }

  /* Action button - more prominent CTA */
  .dads-action-button {
    @apply my-10;
  }
  .dads-button {
    @apply inline-flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-semibold transition-all shadow-md hover:shadow-lg;
  }
  .dads-button--primary {
    @apply bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800;
  }
  .dads-button--large {
    @apply text-xl px-10 py-5;
  }
  .dads-button__icon {
    @apply text-sm bg-white/20 px-3 py-1 rounded-md;
  }

  /* ===================================================================
   * Accordion - DADS準拠
   * https://github.com/digital-go-jp/design-system-example-components-react
   * =================================================================== */
  .dads-accordion {
    @apply my-8;
  }
  .dads-accordion__item {
    border-bottom: 1px solid var(--color-neutral-solid-gray-420, #949494);
    --icon-size: calc(20/16*1rem);
  }
  @media (min-width: 1024px) {
    .dads-accordion__item {
      --icon-size: calc(32/16*1rem);
    }
  }
  .dads-accordion__header {
    position: relative;
    display: block;
    cursor: default;
    padding: 0.5rem 0.5rem 0.5rem calc(var(--icon-size) + 0.75rem);
    list-style: none;
  }
  .dads-accordion__header::-webkit-details-marker {
    display: none;
  }
  .dads-accordion__header:hover {
    background-color: var(--color-neutral-solid-gray-50, #f2f2f2);
  }
  .dads-accordion__header:focus-visible {
    border-radius: var(--border-radius-4, 0.25rem);
    background-color: var(--color-primitive-yellow-300, #ffd43d);
    outline: 4px solid black;
    outline-offset: calc(2/16*1rem);
  }
  @media (min-width: 1024px) {
    .dads-accordion__header {
      padding: 0.875rem 1rem 0.875rem calc(var(--icon-size) + 1.25rem);
    }
  }
  .dads-accordion__header::before {
    content: "";
    position: absolute;
    top: 0.5rem;
    left: 0.125rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--icon-size);
    height: var(--icon-size);
    margin-top: calc((1lh - var(--icon-size)) / 2);
    border: 1px solid var(--color-primitive-blue-1000, #00118f);
    border-radius: 50%;
    background-color: var(--color-neutral-white, #ffffff);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M16.668 5.5L10.0013 12.1667L3.33464 5.5L2.16797 6.66667L10.0013 14.5L17.8346 6.66667L16.668 5.5Z' fill='%2300118f'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center calc(50% + 1px);
    background-size: 1rem;
    transition: transform 0.2s;
  }
  @media (min-width: 1024px) {
    .dads-accordion__header::before {
      top: 0.875rem;
      left: 0.375rem;
      background-size: auto;
    }
  }
  .dads-accordion__header:hover::before {
    outline: 2px solid var(--color-primitive-blue-1000, #00118f);
  }
  .dads-accordion__item[open] .dads-accordion__header::before {
    transform: rotate(180deg);
  }
  .dads-accordion__content {
    padding: 1rem 0.5rem 1rem calc(var(--icon-size) + 0.75rem);
  }
  @media (min-width: 1024px) {
    .dads-accordion__content {
      padding: 1.5rem 1rem 1.5rem calc(var(--icon-size) + 1.25rem);
    }
  }

  /* Directory list - cards with better hierarchy */
  .dads-directory-list {
    @apply space-y-6 my-8;
  }
  .dads-directory-list__item {
    @apply bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow;
  }
  .dads-directory-list__name {
    @apply text-xl font-bold text-gray-900 mb-3;
  }
  .dads-directory-list__description {
    @apply text-lg text-gray-600 mb-4;
  }
  .dads-directory-list__details {
    @apply grid grid-cols-[auto_1fr] gap-x-6 gap-y-2 text-base;
  }
  .dads-directory-list__details dt {
    @apply text-gray-500 font-medium;
  }
  .dads-directory-list__details dd {
    @apply text-gray-700;
  }

  /* News meta - badge style */
  .dads-news-meta {
    @apply flex flex-wrap items-center gap-4 text-base text-gray-600 mb-8 pb-4 border-b border-gray-100;
  }
  .dads-news-meta__date {
    @apply font-semibold text-gray-800;
  }
  .dads-news-meta__updated {
    @apply text-gray-500;
  }
  .dads-news-meta__category {
    @apply bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium;
  }

  /* Callout (inline in RichText) - more impactful */
  .dads-callout {
    @apply p-6 rounded-xl my-8;
  }
  .dads-callout--info {
    @apply bg-blue-50 border-l-4 border-blue-500;
  }
  .dads-callout--warning {
    @apply bg-amber-50 border-l-4 border-amber-500;
  }
  .dads-callout--danger {
    @apply bg-red-50 border-l-4 border-red-500;
  }
  .dads-callout__title {
    @apply font-bold text-xl mb-3;
  }
  .dads-callout__content {
    @apply text-lg text-gray-700;
  }

  /* ===================================================================
   * Divider - DADS準拠
   * https://github.com/digital-go-jp/design-system-example-components-react
   * カラー: gray-420 (default), gray-536, black
   * =================================================================== */
  .dads-divider {
    border-top-width: 1px;
    border-color: var(--color-neutral-solid-gray-420, #949494);
    @apply my-10;
  }
  .dads-divider[data-color="gray-420"] {
    border-color: var(--color-neutral-solid-gray-420, #949494);
  }
  .dads-divider[data-color="gray-536"] {
    border-color: var(--color-neutral-solid-gray-536, #767676);
  }
  .dads-divider[data-color="black"] {
    border-color: var(--color-neutral-black, #000000);
  }

  /* Raw content block - better spacing */
  .dads-raw-content {
    @apply space-y-6;
  }
  .dads-raw-content__links {
    @apply mt-10 pt-8 border-t-2 border-gray-100;
  }

  /* Ordered list - DADS準拠（ネイティブスタイル） */
  .dads-list--ordered {
    padding-left: 2rem;
    list-style: revert;
  }
  .dads-list--ordered .dads-list__item {
    color: var(--color-neutral-solid-gray-800, #333333);
    line-height: 1.7;
  }

  /* Resource list with descriptions - enhanced */
  .dads-resource-list__description {
    @apply text-base text-gray-600 mt-2;
  }
  .dads-resource-list__meta {
    @apply text-sm text-gray-400 mt-2 font-medium;
  }
  .dads-resource-list__external::after {
    content: " ↗";
    @apply text-gray-400 ml-1;
  }
}

/* Print styles */
@media print {
  header,
  footer,
  nav,
  .no-print {
    display: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
  }

  a {
    text-decoration: underline;
  }

  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 10pt;
    color: #666;
  }
}

/* Animation for loading states */
@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.animate-shimmer {
  animation: shimmer 1.5s ease-in-out infinite;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200px 100%;
}
