# 自治体変数取得レポート

**作成日**: 2026-01-31
**更新日**: 2026-01-31

---

## 概要

CSVリストに記載されている23自治体のうち、22自治体の変数を取得しました。都留市については既にデータが存在していたためスキップしました。

---

## 取得完了した自治体（22自治体）

| # | 自治体名 | 都道府県 | 変数数 | ID |
|---|---------|---------|-------|-----|
| 1 | 歌志内市 | 北海道 | 53 | utashinai |
| 2 | 当別町 | 北海道 | 58 | tobetsu |
| 3 | 外ヶ浜町 | 青森県 | 31 | sotogahama |
| 4 | 川崎町 | 宮城県 | 24 | kawasaki-miyagi |
| 5 | 河内町 | 茨城県 | 22 | kawachi |
| 6 | 神流町 | 群馬県 | 17 | kanna |
| 7 | 南牧村 | 群馬県 | 18 | nanmoku |
| 8 | 草津町 | 群馬県 | 11 | kusatsu |
| 9 | 吉見町 | 埼玉県 | 37 | yoshimi |
| 10 | 銚子市 | 千葉県 | 48 | choshi |
| 11 | 箱根町 | 神奈川県 | 26 | hakone |
| 12 | 早川町 | 山梨県 | 25 | hayakawa |
| 13 | 王滝村 | 長野県 | 18 | otaki |
| 14 | 熱海市 | 静岡県 | 21 | atami |
| 15 | 井手町 | 京都府 | 19 | ide |
| 16 | 豊能町 | 大阪府 | 38 | toyono |
| 17 | 吉野町 | 奈良県 | 14 | yoshino |
| 18 | 下市町 | 奈良県 | 5 | shimoichi |
| 19 | 野迫川村 | 奈良県 | 14 | nosegawa |
| 20 | 上北山村 | 奈良県 | 5 | kamikitayama |
| 21 | 東吉野村 | 奈良県 | 5 | higashiyoshino |
| 22 | 北川村 | 高知県 | 17 | kitagawa |

---

## 取得済み自治体（スキップ）

### 都留市（山梨県）
既に `apps/web/data/artifacts/tsuru/variables.json` に詳細なデータが存在していたためスキップ。156個の変数が登録済み。

---

## 各自治体の詳細

### 1. 歌志内市（北海道）

**取得変数数**: 53個

**取得できた主要な変数**:
- 基本情報（住所、電話、開庁時間）
- 各課連絡先（市民課、税務課、福祉事業課、保健介護課、建設課、産業課等）
- 手数料（住民票300円、戸籍450円、除籍750円）
- 外部機関（ハローワーク砂川、滝川税務署）
- 避難所数（6箇所）

**見つからなかった変数と理由**:
| 変数 | 理由 |
|-----|------|
| `city_hall_email` | 公式サイトにメールアドレスの記載がなく、問い合わせフォーム形式 |
| `city_hall_fax` | 各課ページを確認したがFAX番号の掲載なし |
| `kokuho_limit_*` | 国保料率の詳細ページが見つからず |

---

### 2. 当別町（北海道）

**取得変数数**: 58個

**取得できた主要な変数**:
- 基本情報（住所、電話、FAX）
- 全課の直通電話番号（組織別電話番号一覧ページから取得）
- 手数料（住民票300円、戸籍450円）

---

### 3. 外ヶ浜町（青森県）

**取得変数数**: 31個

**取得できた主要な変数**:
- 基本情報（本庁、平舘支所、三厩支所の住所・電話）
- 各課連絡先
- 手数料（住民票300円、戸籍450円）

---

### 4. 川崎町（宮城県）

**取得変数数**: 24個

**調査困難な点**: 各課の個別電話番号が公開されておらず代表番号のみ

---

### 5. 河内町（茨城県）

**取得変数数**: 22個

**調査困難な点**: 代表番号のみ掲載で各課の内線・直通番号の記載なし

---

### 6. 神流町（群馬県）

**取得変数数**: 17個

**調査困難な点**: 小規模自治体のため代表番号のみ

---

### 7. 南牧村（群馬県）

**取得変数数**: 18個

**調査困難な点**:
- 公式サイト(nanmoku.ne.jp)へのHTTP接続エラーで一部情報取得困難
- HTTPS版で基本情報を取得

---

### 8. 草津町（群馬県）

**取得変数数**: 11個

**調査困難な点**:
- 組織情報の一部のみ取得可能
- 手数料情報がPDFで公開されており詳細取得不可

---

### 9. 吉見町（埼玉県）

**取得変数数**: 37個

**取得できた主要な変数**:
- 全課の直通電話番号（組織別電話番号一覧ページから取得）
- 地域包括支援センターの連絡先

---

### 10. 銚子市（千葉県）

**取得変数数**: 48個

**取得できた主要な変数**:
- 全課・全班の詳細な電話番号
- 班単位での連絡先（戸籍班、市民班、課税班等）

---

### 11. 箱根町（神奈川県）

**取得変数数**: 26個

**取得できた主要な変数**:
- 全課の直通電話番号
- 防災担当（総務防災課）の連絡先

---

### 12. 早川町（山梨県）

**取得変数数**: 25個

**取得できた主要な変数**:
- 町民課（税務・保険担当、町民担当、環境担当）の電話番号
- 福祉保健課の連絡先

---

### 13. 王滝村（長野県）

**取得変数数**: 18個

**取得できた主要な変数**:
- 総務課、経済産業課、福祉健康課の連絡先
- 教育委員会、観光案内所の電話番号

---

### 14. 熱海市（静岡県）

**取得変数数**: 21個

**取得できた主要な変数**:
- 市民生活課 市民室の電話番号
- 各課名称（部署一覧から取得）

**調査困難な点**: 各課の電話番号が個別ページにあり網羅的な取得が困難

---

### 15. 井手町（京都府）

**取得変数数**: 19個

**取得できた主要な変数**:
- 企画財政課の電話番号
- 全課名称（組織一覧から取得）

**調査困難な点**: 各課の電話番号がページに記載されておらず代表番号のみ

---

### 16. 豊能町（大阪府）

**取得変数数**: 38個

**取得できた主要な変数**:
- 全課の直通電話番号（本庁舎1階・2階・3階、外部施設）
- 保健福祉センター、吉川支所、西公民館等の連絡先

---

### 17. 吉野町（奈良県）

**取得変数数**: 14個

**取得できた主要な変数**:
- 全課名称（組織一覧から取得）

**調査困難な点**: 各課の電話番号がページに記載されておらず代表番号のみ

---

### 18. 下市町（奈良県）

**取得変数数**: 5個（基本情報のみ）

**調査困難な点**: 組織一覧ページの電話番号が取得できず

---

### 19. 野迫川村（奈良県）

**取得変数数**: 14個

**取得できた主要な変数**:
- 全課の電話番号（代表番号と同一だが明記あり）
- 保育所、診療所の電話番号

---

### 20. 上北山村（奈良県）

**取得変数数**: 5個（基本情報のみ）

**調査困難な点**: 窓口案内ページへのアクセスエラー（404）

---

### 21. 東吉野村（奈良県）

**取得変数数**: 5個（基本情報のみ）

**調査困難な点**: SSL証明書エラーでサイトにアクセス不可（ERR_TLS_CERT_ALTNAME_INVALID）

---

### 22. 北川村（高知県）

**取得変数数**: 17個

**取得できた主要な変数**:
- 全課の直通電話番号（総務課、住民課、産業政策課、経済建設課、教育委員会）
- 保育所の電話番号

---

## 変数取得における課題と知見

### 1. 小規模自治体の特徴
- 代表電話番号のみで各課の直通番号がない場合が多い
- メールアドレスを公開せず問い合わせフォーム形式が主流
- 複数の課が統合されている（例：産業建設課、住民生活課）

### 2. 情報取得の困難さ
- **レート制限**: Brave検索APIのレート制限により、連続検索がブロックされる
- **ページ構造の違い**: 自治体ごとにサイト構造が異なり、情報の場所が統一されていない
- **PDF公開**: 手数料表などがPDFで公開されており、WebFetchで内容取得が困難な場合あり
- **SSL証明書エラー**: 一部の自治体サイトでSSL証明書の問題あり

### 3. 確実に取得できる変数
- 役場住所、代表電話番号（ほぼ100%取得可能）
- 各課の名称（組織ページから取得可能）
- 住民票・戸籍の手数料（多くの自治体で公開）

### 4. 取得が困難な変数
- 各課のメールアドレス（非公開が多い）
- 詳細な料金（国保料率、健診料金等）
- 外部機関の管轄情報（税務署、年金事務所等）

---

## ファイル出力先

取得した変数は以下のディレクトリに保存されています：

```
apps/web/data/artifacts/
├── utashinai/          # 歌志内市（53変数）
├── tobetsu/            # 当別町（58変数）
├── sotogahama/         # 外ヶ浜町（31変数）
├── kawasaki-miyagi/    # 川崎町（24変数）
├── kawachi/            # 河内町（22変数）
├── kanna/              # 神流町（17変数）
├── nanmoku/            # 南牧村（18変数）
├── kusatsu/            # 草津町（11変数）
├── yoshimi/            # 吉見町（37変数）
├── choshi/             # 銚子市（48変数）
├── hakone/             # 箱根町（26変数）
├── hayakawa/           # 早川町（25変数）
├── otaki/              # 王滝村（18変数）
├── atami/              # 熱海市（21変数）
├── ide/                # 井手町（19変数）
├── toyono/             # 豊能町（38変数）
├── yoshino/            # 吉野町（14変数）
├── shimoichi/          # 下市町（5変数）
├── nosegawa/           # 野迫川村（14変数）
├── kamikitayama/       # 上北山村（5変数）
├── higashiyoshino/     # 東吉野村（5変数）
└── kitagawa/           # 北川村（17変数）
```

各自治体ディレクトリには以下のファイルが含まれます：
- `meta.json`: 自治体の基本情報（ID、名称、都道府県、公式サイト）
- `variables/core.json`: 取得した変数（value, source, sourceUrl, confidence, updatedAt）

---

## 今後の作業推奨事項

1. **変数の充実**
   - 下市町、上北山村、東吉野村は基本情報のみのため、手動で追加情報を補完

2. **SSL証明書問題の解決**
   - 東吉野村サイトの証明書問題を確認し、別の方法で情報取得

3. **手動での補完**
   - メールアドレスや詳細料金など、自動取得が困難な変数は手動で補完

4. **データ検証**
   - 取得したデータの正確性を公式サイトと照合して確認
